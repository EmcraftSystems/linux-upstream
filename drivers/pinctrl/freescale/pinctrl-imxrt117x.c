/*
 * Copyright (C) 2017-2021 Emcraft Systems
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 */

#include <linux/err.h>
#include <linux/init.h>
#include <linux/io.h>
#include <linux/module.h>
#include <linux/of.h>
#include <linux/of_device.h>
#include <linux/pinctrl/pinctrl.h>

#include "pinctrl-imx.h"

enum imxrt117x_pads {
	IMXRT117X_PAD_RESERVE0 = 0,
	IMXRT117X_PAD_RESERVE1 = 1,
	IMXRT117X_PAD_RESERVE2 = 2,
	IMXRT117X_PAD_RESERVE3 = 3,
	IMXRT117X_PAD_EMC_B1_00 = 4,
	IMXRT117X_PAD_EMC_B1_01 = 5,
	IMXRT117X_PAD_EMC_B1_02 = 6,
	IMXRT117X_PAD_EMC_B1_03 = 7,
	IMXRT117X_PAD_EMC_B1_04 = 8,
	IMXRT117X_PAD_EMC_B1_05 = 9,
	IMXRT117X_PAD_EMC_B1_06 = 10,
	IMXRT117X_PAD_EMC_B1_07 = 11,
	IMXRT117X_PAD_EMC_B1_08 = 12,
	IMXRT117X_PAD_EMC_B1_09 = 13,
	IMXRT117X_PAD_EMC_B1_10 = 14,
	IMXRT117X_PAD_EMC_B1_11 = 15,
	IMXRT117X_PAD_EMC_B1_12 = 16,
	IMXRT117X_PAD_EMC_B1_13 = 17,
	IMXRT117X_PAD_EMC_B1_14 = 18,
	IMXRT117X_PAD_EMC_B1_15 = 19,
	IMXRT117X_PAD_EMC_B1_16 = 20,
	IMXRT117X_PAD_EMC_B1_17 = 21,
	IMXRT117X_PAD_EMC_B1_18 = 22,
	IMXRT117X_PAD_EMC_B1_19 = 23,
	IMXRT117X_PAD_EMC_B1_20 = 24,
	IMXRT117X_PAD_EMC_B1_21 = 25,
	IMXRT117X_PAD_EMC_B1_22 = 26,
	IMXRT117X_PAD_EMC_B1_23 = 27,
	IMXRT117X_PAD_EMC_B1_24 = 28,
	IMXRT117X_PAD_EMC_B1_25 = 29,
	IMXRT117X_PAD_EMC_B1_26 = 30,
	IMXRT117X_PAD_EMC_B1_27 = 31,
	IMXRT117X_PAD_EMC_B1_28 = 32,
	IMXRT117X_PAD_EMC_B1_29 = 33,
	IMXRT117X_PAD_EMC_B1_30 = 34,
	IMXRT117X_PAD_EMC_B1_31 = 35,
	IMXRT117X_PAD_EMC_B1_32 = 36,
	IMXRT117X_PAD_EMC_B1_33 = 37,
	IMXRT117X_PAD_EMC_B1_34 = 38,
	IMXRT117X_PAD_EMC_B1_35 = 39,
	IMXRT117X_PAD_EMC_B1_36 = 40,
	IMXRT117X_PAD_EMC_B1_37 = 41,
	IMXRT117X_PAD_EMC_B1_38 = 42,
	IMXRT117X_PAD_EMC_B1_39 = 43,
	IMXRT117X_PAD_EMC_B1_40 = 44,
	IMXRT117X_PAD_EMC_B1_41 = 45,
	IMXRT117X_PAD_EMC_B2_00 = 46,
	IMXRT117X_PAD_EMC_B2_01 = 47,
	IMXRT117X_PAD_EMC_B2_02 = 48,
	IMXRT117X_PAD_EMC_B2_03 = 49,
	IMXRT117X_PAD_EMC_B2_04 = 50,
	IMXRT117X_PAD_EMC_B2_05 = 51,
	IMXRT117X_PAD_EMC_B2_06 = 52,
	IMXRT117X_PAD_EMC_B2_07 = 53,
	IMXRT117X_PAD_EMC_B2_08 = 54,
	IMXRT117X_PAD_EMC_B2_09 = 55,
	IMXRT117X_PAD_EMC_B2_10 = 56,
	IMXRT117X_PAD_EMC_B2_11 = 57,
	IMXRT117X_PAD_EMC_B2_12 = 58,
	IMXRT117X_PAD_EMC_B2_13 = 59,
	IMXRT117X_PAD_EMC_B2_14 = 60,
	IMXRT117X_PAD_EMC_B2_15 = 61,
	IMXRT117X_PAD_EMC_B2_16 = 62,
	IMXRT117X_PAD_EMC_B2_17 = 63,
	IMXRT117X_PAD_EMC_B2_18 = 64,
	IMXRT117X_PAD_EMC_B2_19 = 65,
	IMXRT117X_PAD_EMC_B2_20 = 66,
	IMXRT117X_PAD_AD_00 = 67,
	IMXRT117X_PAD_AD_01 = 68,
	IMXRT117X_PAD_AD_02 = 69,
	IMXRT117X_PAD_AD_03 = 70,
	IMXRT117X_PAD_AD_04 = 71,
	IMXRT117X_PAD_AD_05 = 72,
	IMXRT117X_PAD_AD_06 = 73,
	IMXRT117X_PAD_AD_07 = 74,
	IMXRT117X_PAD_AD_08 = 75,
	IMXRT117X_PAD_AD_09 = 76,
	IMXRT117X_PAD_AD_10 = 77,
	IMXRT117X_PAD_AD_11 = 78,
	IMXRT117X_PAD_AD_12 = 79,
	IMXRT117X_PAD_AD_13 = 80,
	IMXRT117X_PAD_AD_14 = 81,
	IMXRT117X_PAD_AD_15 = 82,
	IMXRT117X_PAD_AD_16 = 83,
	IMXRT117X_PAD_AD_17 = 84,
	IMXRT117X_PAD_AD_18 = 85,
	IMXRT117X_PAD_AD_19 = 86,
	IMXRT117X_PAD_AD_20 = 87,
	IMXRT117X_PAD_AD_21 = 88,
	IMXRT117X_PAD_AD_22 = 89,
	IMXRT117X_PAD_AD_23 = 90,
	IMXRT117X_PAD_AD_24 = 91,
	IMXRT117X_PAD_AD_25 = 92,
	IMXRT117X_PAD_AD_26 = 93,
	IMXRT117X_PAD_AD_27 = 94,
	IMXRT117X_PAD_AD_28 = 95,
	IMXRT117X_PAD_AD_29 = 96,
	IMXRT117X_PAD_AD_30 = 97,
	IMXRT117X_PAD_AD_31 = 98,
	IMXRT117X_PAD_AD_32 = 99,
	IMXRT117X_PAD_AD_33 = 100,
	IMXRT117X_PAD_AD_34 = 101,
	IMXRT117X_PAD_AD_35 = 102,
	IMXRT117X_PAD_SD_B1_00 = 103,
	IMXRT117X_PAD_SD_B1_01 = 104,
	IMXRT117X_PAD_SD_B1_02 = 105,
	IMXRT117X_PAD_SD_B1_03 = 106,
	IMXRT117X_PAD_SD_B1_04 = 107,
	IMXRT117X_PAD_SD_B1_05 = 108,
	IMXRT117X_PAD_SD_B2_00 = 109,
	IMXRT117X_PAD_SD_B2_01 = 110,
	IMXRT117X_PAD_SD_B2_02 = 111,
	IMXRT117X_PAD_SD_B2_03 = 112,
	IMXRT117X_PAD_SD_B2_04 = 113,
	IMXRT117X_PAD_SD_B2_05 = 114,
	IMXRT117X_PAD_SD_B2_06 = 115,
	IMXRT117X_PAD_SD_B2_07 = 116,
	IMXRT117X_PAD_SD_B2_08 = 117,
	IMXRT117X_PAD_SD_B2_09 = 118,
	IMXRT117X_PAD_SD_B2_10 = 119,
	IMXRT117X_PAD_SD_B2_11 = 120,
	IMXRT117X_PAD_DISP_B1_00 = 121,
	IMXRT117X_PAD_DISP_B1_01 = 122,
	IMXRT117X_PAD_DISP_B1_02 = 123,
	IMXRT117X_PAD_DISP_B1_03 = 124,
	IMXRT117X_PAD_DISP_B1_04 = 125,
	IMXRT117X_PAD_DISP_B1_05 = 126,
	IMXRT117X_PAD_DISP_B1_06 = 127,
	IMXRT117X_PAD_DISP_B1_07 = 128,
	IMXRT117X_PAD_DISP_B1_08 = 129,
	IMXRT117X_PAD_DISP_B1_09 = 130,
	IMXRT117X_PAD_DISP_B1_10 = 131,
	IMXRT117X_PAD_DISP_B1_11 = 132,
	IMXRT117X_PAD_DISP_B2_00 = 133,
	IMXRT117X_PAD_DISP_B2_01 = 134,
	IMXRT117X_PAD_DISP_B2_02 = 135,
	IMXRT117X_PAD_DISP_B2_03 = 136,
	IMXRT117X_PAD_DISP_B2_04 = 137,
	IMXRT117X_PAD_DISP_B2_05 = 138,
	IMXRT117X_PAD_DISP_B2_06 = 139,
	IMXRT117X_PAD_DISP_B2_07 = 140,
	IMXRT117X_PAD_DISP_B2_08 = 141,
	IMXRT117X_PAD_DISP_B2_09 = 142,
	IMXRT117X_PAD_DISP_B2_10 = 143,
	IMXRT117X_PAD_DISP_B2_11 = 144,
	IMXRT117X_PAD_DISP_B2_12 = 145,
	IMXRT117X_PAD_DISP_B2_13 = 146,
	IMXRT117X_PAD_DISP_B2_14 = 147,
	IMXRT117X_PAD_DISP_B2_15 = 148,
};

/* Pad names for the pinmux subsystem */
static const struct pinctrl_pin_desc imxrt117x_pinctrl_pads[] = {
	IMX_PINCTRL_PIN(IMXRT117X_PAD_RESERVE0),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_RESERVE1),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_RESERVE2),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_RESERVE3),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_00),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_01),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_02),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_03),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_04),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_05),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_06),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_07),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_08),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_09),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_10),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_11),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_12),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_13),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_14),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_15),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_16),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_17),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_18),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_19),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_20),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_21),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_22),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_23),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_24),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_25),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_26),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_27),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_28),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_29),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_30),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_31),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_32),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_33),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_34),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_35),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_36),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_37),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_38),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_39),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_40),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B1_41),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_00),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_01),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_02),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_03),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_04),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_05),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_06),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_07),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_08),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_09),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_10),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_11),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_12),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_13),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_14),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_15),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_16),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_17),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_18),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_19),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_EMC_B2_20),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_00),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_01),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_02),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_03),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_04),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_05),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_06),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_07),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_08),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_09),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_10),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_11),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_12),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_13),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_14),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_15),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_16),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_17),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_18),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_19),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_20),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_21),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_22),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_23),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_24),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_25),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_26),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_27),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_28),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_29),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_30),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_31),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_32),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_33),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_34),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_AD_35),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B1_00),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B1_01),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B1_02),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B1_03),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B1_04),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B1_05),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B2_00),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B2_01),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B2_02),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B2_03),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B2_04),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B2_05),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B2_06),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B2_07),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B2_08),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B2_09),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B2_10),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_SD_B2_11),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B1_00),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B1_01),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B1_02),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B1_03),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B1_04),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B1_05),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B1_06),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B1_07),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B1_08),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B1_09),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B1_10),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B1_11),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_00),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_01),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_02),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_03),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_04),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_05),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_06),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_07),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_08),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_09),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_10),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_11),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_12),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_13),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_14),
	IMX_PINCTRL_PIN(IMXRT117X_PAD_DISP_B2_15),
};

static struct imx_pinctrl_soc_info imxrt117x_pinctrl_info = {
	.pins = imxrt117x_pinctrl_pads,
	.npins = ARRAY_SIZE(imxrt117x_pinctrl_pads),
};

static const struct of_device_id imxrt117x_pinctrl_of_match[] = {
	{ .compatible = "fsl,imxrt117x-iomuxc", },
	{ /* sentinel */ }
};

static int imxrt117x_pinctrl_probe(struct platform_device *pdev)
{
	return imx_pinctrl_probe(pdev, &imxrt117x_pinctrl_info);
}

static struct platform_driver imxrt117x_pinctrl_driver = {
	.driver = {
		.name = "imxrt117x-pinctrl",
		.of_match_table = of_match_ptr(imxrt117x_pinctrl_of_match),
	},
	.probe = imxrt117x_pinctrl_probe,
	.remove = imx_pinctrl_remove,
};

static int __init imxrt117x_pinctrl_init(void)
{
	return platform_driver_register(&imxrt117x_pinctrl_driver);
}
arch_initcall(imxrt117x_pinctrl_init);

static void __exit imxrt117x_pinctrl_exit(void)
{
	platform_driver_unregister(&imxrt117x_pinctrl_driver);
}
module_exit(imxrt117x_pinctrl_exit);

MODULE_AUTHOR("Vladimir Skvortsov <vskvortsov@emcraft.com>");
MODULE_DESCRIPTION("Freescale imxrt117x pinctrl driver");
MODULE_LICENSE("GPL v2");
